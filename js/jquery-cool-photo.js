/**
 * Modules in this bundle
 * @license
 *
 * cool-photo.js:
 *   license: appleple
 *   author: appleple
 *   homepage: http://developer.a-blogcms.jp
 *   version: 1.0.0
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var coolPhoto = require('../index');

var applyJQuery = function applyJQuery(jQuery) {
	jQuery.fn.coolPhoto = function (settings) {
		return this.each(function () {
			if (typeof settings === 'strings') {
				if (settings === 'destroy') {
					coolPhoto.destroy(this);
				}
			} else {
				coolPhoto.initialize(this, settings);
			}
		});
	};
};

if (typeof define === 'function' && define.amd) {
	define(['jquery'], applyJQuery);
} else {
	var jq = window.jQuery ? window.jQuery : window.$;
	if (typeof jq !== 'undefined') {
		applyJQuery(jq);
	}
}

module.exports = applyJQuery;

},{"../index":4}],2:[function(require,module,exports){
"use strict";

},{}],3:[function(require,module,exports){
'use strict';

var extend = require('../lib/extend');
var dom = require('../lib/dom');
var assets = [];

var defaults = {
	classNames: {
		coolPhoto: 'cool-photo',
		coolPhotoClose: 'cool-photo-close',
		coolPhotoBody: 'cool-photo-body',
		coolPhotoInner: 'cool-photo-inner',
		coolPhotoImg: 'cool-photo-img',
		coolPhotoArrows: 'cool-photo-arrows',
		coolPhotoArrowRight: 'cool-photo-arrow-right',
		coolPhotoArrowLeft: 'cool-photo-arrow-left'
	},
	arrows: true,
	dots: true,
	animationSpeed: 300
};

var addNewAsset = function addNewAsset(element) {
	var src = element.getAttribute('href');
	assets.push({
		src: src,
		element: element
	});
	return assets.length - 1;
};

var getAsset = function getAsset(index) {
	return assets[index];
};

var removeComponent = function removeComponent(element, settings) {
	dom.addClass(element, settings.classNames.coolPhotoClose);
	// element.removeEventListener('click');
	setTimeout(function () {
		dom.remove(element);
	}, settings.animationSpeed);
};

var dispatchEvent = function dispatchEvent(element, settings) {
	element.addEventListener('click', function (event) {
		var target = event.target;
		if (dom.hasClass(target, settings.classNames.coolPhotoArrowLeft)) {
			var index = target.getAttribute('data-index');
			var _event = new Event('click');
			removeComponent(element, settings);
			assets[index].element.dispatchEvent(_event);
		} else if (dom.hasClass(target, settings.classNames.coolPhotoArrowRight)) {
			var _index = target.getAttribute('data-index');
			var _event2 = new Event('click');
			removeComponent(element, settings);
			assets[_index].element.dispatchEvent(_event2);
		} else {
			removeComponent(element, settings);
		}
	});

	element.addEventListener('mousedown', function (event) {
		if (dom.hasClass(settings.classNames.coolPhotoImg)) {}
	});
};

var render = function render(element, settings) {
	var index = parseInt(element.getAttribute('data-index'));
	var src = assets[index].src;
	var html = '\n\t\t<div class="' + settings.classNames.coolPhoto + '">\n\t\t\t<div class="' + settings.classNames.coolPhotoBody + '">\n\t\t\t\t<div class="' + settings.classNames.coolPhotoInner + '">\n\t\t\t\t\t<img src="' + src + '" class="' + settings.classNames.coolPhotoImg + '">\n\t\t\t\t\t' + (settings.arrows ? '\n\t\t\t\t\t\t<ul class="' + settings.classNames.coolPhotoArrows + '">\n\t\t\t\t\t\t\t' + (index > 0 ? '\n\t\t\t\t\t\t\t\t<li class="' + settings.classNames.coolPhotoArrowLeft + '" data-index="' + (index - 1) + '"></li>\n\t\t\t\t\t\t\t' : '') + '\n\t\t\t\t\t\t\t' + (index !== assets.length - 1 ? '\n\t\t\t\t\t\t\t\t<li class="' + settings.classNames.coolPhotoArrowRight + '" data-index="' + (index + 1) + '"></li>\n\t\t\t\t\t\t\t' : '') + '\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t' : '') + '\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t';
	element.insertAdjacentHTML('afterend', html);
};

module.exports = function (element, settings) {
	var index = addNewAsset(element);
	element.setAttribute('data-index', index);
	settings = extend({}, defaults, settings);
	element.addEventListener('click', function () {
		render(element, settings);
		var imgViwer = element.nextElementSibling;
		dispatchEvent(imgViwer, settings);
	});
};

},{"../lib/dom":5,"../lib/extend":6}],4:[function(require,module,exports){
'use strict';

module.exports = {
	initialize: require('./core/initialize'),
	destroy: require('./core/destroy')
};

},{"./core/destroy":2,"./core/initialize":3}],5:[function(require,module,exports){
'use strict';

module.exports.addClass = function (element, className) {
	if (element.classList) {
		element.classList.add(className);
	} else {
		if (element.className) {
			element.className += ' ' + className;
		} else {
			element.className = className;
		}
	}
};

module.exports.hasClass = function (element, className) {
	if (element.classList) {
		return element.classList.contains(className);
	} else {
		return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);
	}
};

module.exports.remove = function (element) {
	element.parentNode.removeChild(element);
};

},{}],6:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function deepExtend(out) {
  out = out || {};

  for (var i = 1; i < arguments.length; i++) {
    var obj = arguments[i];

    if (!obj) {
      continue;
    }

    for (var key in obj) {
      if (obj.hasOwnProperty(key)) {
        if (_typeof(obj[key]) === 'object') out[key] = deepExtend(out[key], obj[key]);else out[key] = obj[key];
      }
    }
  }

  return out;
};

module.exports = deepExtend;

},{}]},{},[1]);
